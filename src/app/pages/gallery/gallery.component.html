<!-- Gallery Page - Beautiful Multi-View Image Gallery -->
<app-navbar></app-navbar>
<div class="gallery-page" style="margin-top: 80px;">
  <!-- Header Section -->
  <section class="gallery-header">
    <div class="container">
      <h1 class="page-title">Nature's Gallery</h1>
      <p class="page-subtitle">Explore the beauty of Kothwalguda Eco Park through our lens</p>
      
      <!-- Filter and View Options -->
      <div class="gallery-controls">
        <div class="filter-tabs">
          <button 
            *ngFor="let category of categories" 
            class="filter-btn" 
            [class.active]="selectedCategory === category"
            (click)="filterByCategory(category)">
            {{ category }}
          </button>
        </div>
        
        <div class="view-options">
          <button 
            class="view-btn" 
            [class.active]="viewMode === 'grid'"
            (click)="setViewMode('grid')"
            pTooltip="Grid View">
            <i class="pi pi-th-large"></i>
          </button>
          <button 
            class="view-btn" 
            [class.active]="viewMode === 'masonry'"
            (click)="setViewMode('masonry')"
            pTooltip="Masonry View">
            <i class="pi pi-clone"></i>
          </button>
          <button 
            class="view-btn" 
            [class.active]="viewMode === 'carousel'"
            (click)="setViewMode('carousel')"
            pTooltip="Carousel View">
            <i class="pi pi-images"></i>
          </button>
          <button 
            class="view-btn" 
            [class.active]="viewMode === 'list'"
            (click)="setViewMode('list')"
            pTooltip="List View">
            <i class="pi pi-list"></i>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Gallery Content -->
  <section class="gallery-content">
    <div class="container">
      <!-- Grid View -->
      <div class="gallery-grid" *ngIf="viewMode === 'grid'">
        <div 
          class="grid-item" 
          *ngFor="let image of filteredImages; let i = index"
          (click)="openLightbox(i)">
          <div class="image-wrapper">
            <img [src]="image.url" [alt]="image.title">
            <div class="image-overlay">
              <div class="overlay-content">
                <h3>{{ image.title }}</h3>
                <p>{{ image.category }}</p>
                <button class="zoom-icon">
                  <i class="pi pi-search-plus"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Masonry View -->
      <div class="gallery-masonry" *ngIf="viewMode === 'masonry'">
        <div 
          class="masonry-item" 
          *ngFor="let image of filteredImages; let i = index"
          [class.wide]="i % 5 === 0"
          [class.tall]="i % 7 === 2"
          (click)="openLightbox(i)">
          <img [src]="image.url" [alt]="image.title">
          <div class="masonry-overlay">
            <span class="image-title">{{ image.title }}</span>
            <span class="image-category">{{ image.category }}</span>
          </div>
        </div>
      </div>

      <!-- Carousel View -->
      <div class="gallery-carousel" *ngIf="viewMode === 'carousel'">
        <div class="carousel-container">
          <button class="carousel-btn prev" (click)="prevImage()">
            <i class="pi pi-chevron-left"></i>
          </button>
          
          <div class="carousel-main">
            <img [src]="filteredImages[currentIndex].url" [alt]="filteredImages[currentIndex].title">
            <div class="carousel-info">
              <h3>{{ filteredImages[currentIndex].title }}</h3>
              <p>{{ filteredImages[currentIndex].description }}</p>
              <span class="carousel-counter">{{ currentIndex + 1 }} / {{ filteredImages.length }}</span>
            </div>
          </div>
          
          <button class="carousel-btn next" (click)="nextImage()">
            <i class="pi pi-chevron-right"></i>
          </button>
        </div>
        
        <!-- Thumbnail Strip -->
        <div class="carousel-thumbnails">
          <div 
            class="thumbnail" 
            *ngFor="let image of filteredImages; let i = index"
            [class.active]="i === currentIndex"
            (click)="currentIndex = i">
            <img [src]="image.url" [alt]="image.title">
          </div>
        </div>
      </div>

      <!-- List View -->
      <div class="gallery-list" *ngIf="viewMode === 'list'">
        <div class="list-item" *ngFor="let image of filteredImages">
          <div class="list-image">
            <img [src]="image.url" [alt]="image.title">
          </div>
          <div class="list-content">
            <div class="list-header">
              <h3>{{ image.title }}</h3>
              <span class="list-category">{{ image.category }}</span>
            </div>
            <p class="list-description">{{ image.description }}</p>
            <div class="list-actions">
              <button class="action-btn" (click)="viewImage(image)">
                <i class="pi pi-eye"></i>
                <span>View</span>
              </button>
              <button class="action-btn">
                <i class="pi pi-download"></i>
                <span>Download</span>
              </button>
              <button class="action-btn">
                <i class="pi pi-share-alt"></i>
                <span>Share</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Lightbox Modal -->
  <div class="lightbox" *ngIf="lightboxOpen" (click)="closeLightbox()">
    <div class="lightbox-content" (click)="$event.stopPropagation()">
      <button class="lightbox-close" (click)="closeLightbox()">
        <i class="pi pi-times"></i>
      </button>
      <img [src]="filteredImages[lightboxIndex].url" [alt]="filteredImages[lightboxIndex].title">
      <div class="lightbox-info">
        <h3>{{ filteredImages[lightboxIndex].title }}</h3>
        <p>{{ filteredImages[lightboxIndex].description }}</p>
      </div>
      <button class="lightbox-nav prev" (click)="lightboxPrev(); $event.stopPropagation()">
        <i class="pi pi-chevron-left"></i>
      </button>
      <button class="lightbox-nav next" (click)="lightboxNext(); $event.stopPropagation()">
        <i class="pi pi-chevron-right"></i>
      </button>
    </div>
  </div>
</div>